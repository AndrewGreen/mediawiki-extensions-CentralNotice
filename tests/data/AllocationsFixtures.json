{
    "testCases": {
        "completeness": {
            "setup": {
                "campaigns": [
                    {
                        "category": "fundraising",
                        "preferred": 1,
                        "throttle": 50,
                        "geotargeted": true,
                        "geo_countries": [
                            "FR",
                            "GR",
                            "XX"
                        ],
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "preferred": 1,
                    "throttle": 50,
                    "bucket_count": 1,
                    "geotargeted": true,
                    "countries": [
                        "FR",
                        "GR",
                        "XX"
                    ],
                    "banners": [
                        {
                            "name": "b1",
                            "weight": 5,
                            "bucket": 0,
                            "category": "fundraising",
                            "devices": [
                                "desktop"
                            ]
                        }
                    ]
                }
            ],
            "allocations": {
                "b1": "0.500"
            }
        },

        "throttling": {
            "setup": {
                "campaigns": [
                    {
                        "name": "c1",
                        "preferred": 3,
                        "throttle": 60,
                        "banners": [
                            { "name": "c1b1" },
                            { "name": "c1b2" }
                        ]
                    },
                    {
                        "name": "c2",
                        "preferred": 1,
                        "throttle": 100,
                        "banners": [
                            { "name": "c2b1" },
                            { "name": "c2b2" }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "name": "c1",
                    "geotargeted": false,
                    "preferred": 3,
                    "throttle": 60,
                    "banners": [
                        {
                            "name": "c1b1",
                            "weight": 25,
                            "category": "fundraising"
                        },
                        {
                            "name": "c1b2",
                            "weight": 25,
                            "category": "fundraising"
                        }
                    ]
                },
                {
                    "name": "c2",
                    "preferred": 1,
                    "throttle": 100,
                    "banners": [
                        {
                            "name": "c2b1",
                            "weight": 25,
                            "category": "fundraising"
                        },
                        {
                            "name": "c2b2",
                            "weight": 25,
                            "category": "fundraising"
                        }
                    ]
                }
            ],
            "allocations": {
                "c1b1": "0.300",
                "c1b2": "0.300",
                "c2b1": "0.200",
                "c2b2": "0.200"
            }
        },

        "overallocation": {
            "setup": {
                "campaigns": [
                    {
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            },
                            {
                                "name": "b2",
                                "weight": 100
                            },
                            {
                                "name": "b3",
                                "weight": 100
                            }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "throttle": 100,
                    "banners": [
                        {
                            "name": "b1",
                            "weight": 5
                        },
                        {
                            "name": "b2",
                            "weight": 100
                        },
                        {
                            "name": "b3",
                            "weight": 100
                        }
                    ]
                }
            ],
            "allocations": {
                "b1": "0.024",
                "b2": "0.488",
                "b3": "0.488"
            }
        },

        "blanks": {
            "setup": {
                "campaigns": [
                    {
                        "throttle": 10,
                        "banners": [
                            { "name": "b1" }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "throttle": 10,
                    "banners": [
                        { "name": "b1" }
                    ]
                }
            ],
            "allocations": {
                "b1": 0.100
            }
        },

        "priority": {
            "setup": {
                "campaigns": [
                    {
                        "name": "c1",
                        "preferred": 1,
                        "banners": [
                            { "name": "c1b1" }
                        ]
                    },
                    {
                        "name": "c2",
                        "preferred": 2,
                        "banners": [
                            { "name": "c2b1" }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "name": "c1",
                    "preferred": 1,
                    "banners": [
                        { "name": "c1b1" }
                    ]
                },
                {
                    "name": "c2",
                    "preferred": 2,
                    "banners": [
                        { "name": "c2b1" }
                    ]
                }
            ],
            "allocations": {
                "c1b1": 0.000,
                "c2b1": 1.000
            }
        },

        "geoInCountry": {
            "setup": {
                "campaigns": [
                    {
                        "geotargeted": true,
                        "geo_countries": [
                            "FR",
                            "XX"
                        ],
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "geotargeted": true,
                    "countries": [
                        "FR",
                        "XX"
                    ],
                    "banners": [
                        {
                            "name": "b1",
                            "weight": 5
                        }
                    ]
                }
            ],
            "allocations": {
                "b1": 1.000
            }
        },

        "geoNotInCountry": {
            "setup": {
                "campaigns": [
                    {
                        "geotargeted": true,
                        "geo_countries": [
                            "FR",
                            "GR"
                        ],
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "geotargeted": true,
                    "countries": [
                        "FR",
                        "GR"
                    ],
                    "banners": [
                        {
                            "name": "b1",
                            "weight": 5
                        }
                    ]
                }
            ],
            "allocations": {
            }
        },

        "notInProject": {
            "setup": {
                "campaigns": [
                    {
                        "projects": [ "wikisource" ],
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
            ],
            "allocations": {
            }
        },

        "notInLanguage": {
            "setup": {
                "campaigns": [
                    {
                        "project_languages": [ "zh" ],
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
            ],
            "allocations": {
            }
        },

        "notInTimeWindow": {
            "setup": {
                "campaigns": [
                    {
                        "startTs": "20010101123456",
                        "banners": [
                            {
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
            ],
            "allocations": {
            }
        },

        "notAnonymous": {
            "setup": {
                "campaigns": [
                    {
                        "banners": [
                            {
                                "displayAnon": false,
                                "displayAccount": true,
                                "name": "b1",
                                "weight": 5
                            }
                        ]
                    }
                ]
            },
            "choices": [
                {
                    "banners": [
                        {
                            "name": "b1",
                            "weight": 5,
                            "display_anon": false,
                            "display_account": true
                        }
                    ]
                }
            ],
            "allocations": {
            }
        }
    }
}
